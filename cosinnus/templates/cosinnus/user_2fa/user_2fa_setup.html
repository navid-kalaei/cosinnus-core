{% extends "cosinnus/user_2fa/user_2fa_settings.html" %}
{% load i18n  cosinnus_tags widget_tweaks %}

{% block breadcrumb %}
        {{ block.super }}
        <li class="active">{% trans "2FA Setup" %}</li>
{% endblock %}

{% block content %}

<div class="content-box">

  <h4>{% trans "Enable Two-Factor Authentication" %}</h4>
  {% if wizard.steps.current == 'generator' %}
    <p>{% blocktrans trimmed %}To start using a token generator, please use your
        smartphone to scan the QR code below. For example, use Google
        Authenticator. Then, enter the token generated by the app.
        {% endblocktrans %}</p>
    <p><img src="{{ QR_URL }}" alt="QR Code" /></p>
  {% else %}
  <p class="alert alert-warning" role="alert">{% blocktrans trimmed %}We've
    encountered an issue with the selected authentication method. Please
    go back and verify that you entered your information correctly, try
    again, or use a different authentication method instead. If the issue
    persists, contact the site administrator.{% endblocktrans %}</p>
  {% endif %}

<form action="" method="post">{% csrf_token %}
  {% include "two_factor/_wizard_forms.html" %}

  {% include "two_factor/_wizard_actions.html" %}
</form>

</div>

{% endblock %}
